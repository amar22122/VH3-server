name: Minecraft Server

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ù…Ù„ÙØ§Øª Ø§Ù„Ø³ÙŠØ±ÙØ± Ù…Ù† Google Drive Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… gdown
        run: |
          sudo apt update
          sudo apt install -y python3-pip unzip
          pip install gdown

          echo "ğŸ”— ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±..."
          gdown --id 1zGrOsFwJUhE8jH2sDwD4okJqxDRtr-_H -O server.zip

          ls -lh server.zip
          unzip server.zip -d server || { echo "ÙÙƒ Ø§Ù„Ø¶ØºØ· ÙØ´Ù„"; exit 1; }
          cd server

          echo "âœ… ØªÙ… ÙÙƒ Ø§Ù„Ø¶ØºØ·ØŒ Ù†Ø¨Ø¯Ø£ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ±..."
          chmod +x ./start.sh || true
          java -Xmx6G -Xms2G -jar forge*.jar nogui || { echo "ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ± ÙØ´Ù„"; exit 1; }
          
